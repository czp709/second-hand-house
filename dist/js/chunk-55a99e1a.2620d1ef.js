(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55a99e1a"],{"68db":function(e,r,t){},da0d:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login-wrap"},[t("div",{staticClass:"ms-title"},[e._v("用户登录")]),t("div",{staticClass:"ms-login"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"0px"}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{placeholder:"username"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"password"},nativeOn:{keyup:function(r){if(!("button"in r)&&e._k(r.keyCode,"enter",13,r.key,"Enter"))return null;e.submitForm("ruleForm")}},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),t("el-checkbox",{staticClass:"remember",model:{value:e.checked,callback:function(r){e.checked=r},expression:"checked"}},[e._v("记住账号")]),t("div",{staticClass:"login-btn"},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("ruleForm")}}},[e._v("登录")])],1)],1)],1)])},s=[],o=(t("cadf"),t("551c"),t("097d"),{data:function(){return{checked:!1,ruleForm:{username:"",password:"",verifycode:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],verifycode:[{required:!1,message:"请输入验证码",trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.axios.get("/ls/token?grant_type=client_credential&appid=wxeb73fda05f2dbb76&secret=0ad5881577fd01fcd166dd8dd9311f5c").then(function(t){localStorage.setItem("web_token",t.data.access_token),r.database(t.data.access_token,e)})},database:function(e,r){var t=this,a=this,s="db.collection(\"rootuser\").where({'id':'"+String(this.ruleForm.username)+"'}).get()",o={env:"zufang-4gej561k8ccf648d",query:s};this.axios({url:"/lol/databasequery?access_token="+e,method:"post",data:o}).then(function(e){var s=JSON.parse(e.data.data[0]);t.$refs[r].validate(function(e){if(s.password!=a.ruleForm.password)return alert("账号或密码错误！"),!1;1==a.checked?localStorage.setItem("password",a.ruleForm.password):localStorage.getItem("password")&&localStorage.removeItem("password"),localStorage.setItem("ms_username",t.ruleForm.username),t.$router.push("/Dashboard")})})},adddata:function(e){var r='db.collection("users").add({data:{city:"郑州",age:"38"}})',t=JSON.stringify({env:"python-5gl7sf0kcabe4449",query:r});this.axios({url:"/lol/databaseadd?access_token="+e,method:"post",Headers:{"Content-Type":"application/json"},data:t,json:!0}).then(function(e){console.log("添加成功",e)})}},created:function(){var e=localStorage.getItem("password");e&&(this.checked=!0,this.ruleForm.username=localStorage.getItem("ms_username"),this.ruleForm.password=localStorage.getItem("password"))}}),n=o,l=(t("ddaf"),t("2877")),d=Object(l["a"])(n,a,s,!1,null,"42e3f787",null);d.options.__file="Login.vue";r["default"]=d.exports},ddaf:function(e,r,t){"use strict";var a=t("68db"),s=t.n(a);s.a}}]);
//# sourceMappingURL=chunk-55a99e1a.2620d1ef.js.map